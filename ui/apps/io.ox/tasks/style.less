/**
 * This work is provided under the terms of the CREATIVE COMMONS PUBLIC
 * LICENSE. This work is protected by copyright and/or other applicable
 * law. Any use of the work other than as authorized under this license
 * or copyright law is prohibited.
 *
 * http://creativecommons.org/licenses/by-nc-sa/2.5/
 *
 * Â© 2011 Open-Xchange Inc., Tarrytown, NY, USA. info@open-xchange.com
 *
 * @author Daniel Dickhaus <daniel.dickhaus@open-xchange.com>
 */

.vgrid-cell.tasks {

    .vgrid-cell-checkbox {
        padding-top: 10px;
    }

    .end_date {

        color: #777;
        margin-left: 0.5em;
        font-weight: 300;
        float: right;

        html.high-contrast & {
            color: @black;
        }

    }

    .status {
        margin-left: 0.5em;
        float: right;
        padding-bottom: 1px;
    }

    .priority {

        font-size: 16;
        font-weight: bold;
        padding: 0 0.5em 0 0.5em;
        display: inline-block;
        float: right;
        position: relative;
        overflow:visible;

        i.fa-star {
            display: inline-block;
        }

    }

    .title {
        font-weight: 500;
        display: inline-block;
        white-space: nowrap;
        width: 115px;

        &.not-fulltime {
            width: 75px;
        }
    }

    .private-flag {
        float: left;
        font-size: 18px;
        margin-right: 3px;
        color: #aaa;
    }

    .second-row {
        margin-top: 5px;
        height: 17px;
    }

    .participants {
        line-height: 1em;
        margin-right: 1em;
        float: left;
    }

    .progress {
        width: 100px;
        height: 13px;
        margin: 0 1em 0 0;
    }
}
// under 700 we can go bigger because the listview is spread over the whole screen
@media (max-width: 700px) {
    .vgrid-cell.tasks .title {
        width: 325px;
        &.not-fulltime {
            width: 285px;
        }
    }
}

@media (max-width: 500px) {
    .vgrid-cell.tasks .title {
        width: 225px;
        &.not-fulltime {
            width: 185px;
        }
    }
}

@media (max-width: 400px) {
    .vgrid-cell.tasks .title {
        width: 190px;
        &.not-fulltime {
            width: 150px;
        }
    }
}

@media (min-width: 1300px) {
    .vgrid-cell.tasks .title {
        width: 195px;
        &.not-fulltime {
            width: 155px;
        }
    }
}

@media (min-width: 1500px) {
    .vgrid-cell.tasks .title {
        width: 245px;
        &.not-fulltime {
            width: 195px;
        }
    }
}

@media (min-width: 1700px) {
    .vgrid-cell.tasks .title {
        width: 295px;
        &.not-fulltime {
            width: 245px;
        }
    }
}

.tasks-detailview {

    .io-ox-inline-links:first-child {
        margin: 0 0 26px 0;
    }

    header {

       margin-bottom: 26px;

       &:after {
            content: "\00A0";
            display: block;
            clear: both;
            visibility: hidden;
            line-height: 0;
            height: 0;
        }
    }

    .title {
        margin-top: 0;
    }

    .note {
    	margin-bottom: 0.5em;
    	white-space: pre-wrap;
		word-wrap: break-word;
		cursor: text;
    }

    .info-panel {
        margin-left: 2em;
        display: inline;
        float: right;
    }

    .state, .end-date, .alarm-date, .task-progress {
    	float: right;
    	clear: both;
    }

    .attachments {
        font-family: @light-font-family;
        color: #aaa;
    }

    .attachments-container {

        margin-top: 0.8em;
        margin-bottom: 0.5em;
        font-weight: 300;

        .dropdown {
            margin-right: 1em;
            display: inline-block;
        }

    }

    .attachment-item {
        color: #333;
        word-break: break-all;
    }

    .task-details {
        margin: 1em 0 1em 0;
    }

    .detail-label {

        cursor: default;
        color: #aaa;
        margin-right: 0.5em;
        text-align: left;
        width: 220px;

        html.high-contrast & {
            color: @hc-gray;
        }
    }

    .detail-value {
        margin-right: 1em;
    }

    .private-flag {
        font-size: 20pt;
        margin-right: 12px;
        color: #aaa;
    }

    .priority {

        font-weight: bold;
        vertical-align: top;
        white-space: nowrap;

        .high, .low, .medium {
            margin-right: 10px;
            font-size: 16px;
            color: @task-priority;
        }

    }

}

@media (max-width: 480px), (max-device-width: 480px) {
    .vgrid-cell.tasks {
        width: 100%;
        font-size: 14px;
        border-top: 1px solid #ddd;
        &:first-child {
            border-top-width: 0;
        }
        left: 0;
        .transition(e('left 0.40s cubic-bezier(0.1, 0.7, 0.1, 1), padding 0.40s cubic-bezier(0.1, 0.7, 0.1, 1)'));
        &.swipe-left {
            left: -80px;
        }
        z-index: 2;
    }

    .tasks-detailview {

        header {
            margin-bottom: 13px;
        }

        .detail-label, .detail-value, .participants-table-confirmmessage {
            display: block;
        }

        .detail-label {
            margin-bottom: 0;
        }

        .io-ox-inline-links:first-child {
            margin: 0;
            padding: 15px 0;
        }

        .task-details {
            margin: 1em 0 0 0;
        }

        .participants-table-confirmmessage {
            padding-left: 0;
        }

        .attachments-container .dropdown {
            margin-top: 5px;
        }

        .info-panel {
            //to push the title under the info panel, prevents long titles to be ripped apart
            width: 100%;
        }

    }

    div.io-ox-tasks-edit.task-edit-wrapper.container.default-content-padding {
        padding-bottom: 40px;
    }

    .task-detail-container {
        padding: 13px 13px 0 13px;
    }

}

//io.ox/tasks/listview, io.ox/tasks/common-extensions
.task-item {

    .title {
        .ellipsis();
        .fontWeight(500);
    }

    .date {
        .fontWeight(300);
        display: inline-block;
        margin-left: 0.5em;
        float: right;
        opacity: 0.50;
        html.high-contrast & {
            opacity: 1;
        }
    }

    .prog{
        color: rgb(119, 119, 119);
    }
}
