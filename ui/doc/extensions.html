
<h1>Extension Points</h1>

<p>Examples:</p>
<script type="text/example">
    var ext = require("io.ox/core/extensions");
    ext.point("io.ox/calendar/detail").extend({
        index: 1000, 
        id: "dreiChinesen",
        draw: function (appointment) {
            var psuedoChineseTitle = appointment.title.replace(/[aeiou]/g, "o");
            var $titleNode = $("<h1/>").text(psuedoChineseTitle);
            return this.append($titleNode);
        } 
    });
</script>

<script type="text/example">
// Disable participants
var ext = require("io.ox/core/extensions");
ext.point("io.ox/calendar/detail").disable("participants");
</script>

<script type="text/example">
// Disable date
var ext = require("io.ox/core/extensions");
ext.point("io.ox/calendar/detail").disable("date");
</script>

<script type="text/example">
// Re-enable date
var ext = require("io.ox/core/extensions");
ext.point("io.ox/calendar/detail").enable("date");
</script>

<script type="text/example">
// Extend "draw" function (to introduce "customize")
var ext = require("io.ox/core/extensions");
ext.addWrapper("draw", function (e) {
    e.original();
    ext.point(e.id).invoke("customize", this, e.args);
});

// use new "customize" function
ext.point("io.ox/calendar/detail/date/time").extend({
    id: "highlight",
    customize: function () {
        this.css({
            backgroundColor: "yellow",
            padding: "3px",
            border: "1px solid #fc0"
        });
    }
});
</script>

<script type="text/example">
// Replace existing extension
var ext = require("io.ox/core/extensions");
ext.point("io.ox/calendar/detail").replace({
    id: "title",
    draw: function (data) {
        this.append(
            $("<div>").addClass("title").text("Hello World! " + data.title)
        );
    }
});
</script>

<script type="text/example">
// Shuffle extension order
var ext = require("io.ox/core/extensions");
ext.point("io.ox/calendar/detail").each(function (e) {
    e.index = Math.random() * 1000 >> 0;
}).sort();
</script>
