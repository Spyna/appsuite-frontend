/**
 * All content on this website (including text, images, source
 * code and any other original works), unless otherwise noted,
 * is licensed under a Creative Commons License.
 *
 * http://creativecommons.org/licenses/by-nc-sa/2.5/
 *
 * Copyright (C) Open-Xchange Inc., 2006-2011
 * Mail: info@open-xchange.com
 *
 * @author Daniel Rentz <daniel.rentz@open-xchange.com>
 */

@import "../../tk/definitions";

/* ========================================================================= */
/* OX Preview                                                                */
/* ========================================================================= */

.io-ox-office-preview-main {

/* sets the font size and color of the error icon for invalid pages, applied at .page elements */
.error-icon-style(@size, @color) {
    &.page-error > .error-icon {
        position: absolute;
        top: 50%;
        margin-top: (-@size / 2);
        left: 0;
        right: 0;
        text-align: center;
        > i {
            font-size: @size;
            line-height: 100%;
            color: @color;
        }
    }
}

/* generic settings for page nodes ========================================= */

.page {
    position: relative;
    overflow: hidden;
    background-color: white;
    /* fix for IE10, which does not render SVG text elements when line height is 0 */
    line-height: normal;

    /* remove max-width property set by Bootstrap */
    > img {
        max-width: none;
    }
}

/* pages in the application pane =========================================== */

.view-pane.app-pane .page {
    width: 210mm;
    height: 297mm;
    margin: 0 auto;
    .box-shadow(0 0 8px fade(black, 20%));
    cursor: move;

    + .page {
        margin-top: 30px;
    }

    .error-icon-style(48px, #ccc);

    &.page-error > .error-message {
        position: absolute;
        top: 30px;
        left: 30px;
        right: 30px;
        text-align: center;
        color: #ccc;
    }
}

/* thumbnail preview in the side pane ====================================== */

.view-pane.side-pane .group.page-preview {

    /* padding inside the button node */
    @button-padding: 3px;

    margin: 8px auto;

    a.button {
        position: absolute;
        overflow: visible;
        .box-sizing(border-box);
        padding: @button-padding;
        border: 3px solid transparent;
        .border-radius(5px);
        color: white;
        text-align: center;

        &:not(.selected) {
            &:hover:not(:focus) { border-color: fade(white, 5%); }
            &:active { border-color: fade(white, 10%); }
        }

        &.selected {
            background-color: fade(@selectedBackground, 15%);
            border-color: @selectedBackground;
            &:hover:not(:focus) { border-color: darken(@selectedBackground, 5%); }
            &:active { border-color: darken(@selectedBackground, 10%); }
            &:focus:not(:active) { border-color: darken(@selectedBackground, 10%); }
        }

        /* add focus glow effect outside of button */
        &:focus:not(:active) {
            .box-shadow-2(0 0 0 1px @selectedBackground, @focus-glow-effect);
        }

        > .page {
            display: inline-block;

            &.page-error {
                .error-icon-style(30px, #f88);
            }
        }

        > .caption {
            position: absolute;
            left: 0;
            right: 0;
            bottom: @button-padding;
        }

        /* prevent underlined text when hovering the SVG node */
        &:hover {
            text-decoration: none;
        }
    }
}

/* ========================================================================= */

} /* end of .io-ox-office-preview-main */

/* ========================================================================= */
/* drop-down menu elements                                                   */
/* ========================================================================= */

/* TODO: drop down menus do not have a specific application selector (.io-ox-office-preview-main) */
.io-ox-office-main.dropdown-container.app-preview {
}
