/**
 * This work is provided under the terms of the CREATIVE COMMONS PUBLIC
 * LICENSE. This work is protected by copyright and/or other applicable
 * law. Any use of the work other than as authorized under this license
 * or copyright law is prohibited.
 *
 * http://creativecommons.org/licenses/by-nc-sa/2.5/
 *
 * Copyright (C) 2011 Open-Xchange, Inc.
 * Mail: info@open-xchange.com
 *
 * @author Matthias Biggeleben <matthias.biggeleben@open-xchange.com>
 * @author David Bauer <david.bauer@open-xchange.com>
 */

#io-ox-notifications {
    position: absolute;
    z-index: 30;
    top: 40px;
    bottom: 0;
    font-size: 14px;
    background-color: @notification-pane-background;
    background-clip: padding-box;
    border-left: 2px solid @defaultBorderColor;
    display: none;
    .overflow-x(hidden);
    .overflow-y(auto);

    &:focus {
        outline: 0;
    }

    @media (max-width: 480px), (max-device-width: 480px) and (orientation: portrait) {
        width: 100%;
        &.active {
            display:block;
        }
    }

    @media (min-width: 481px) {
        width: 350px;
        right: -350px;
         &.active {
            right: 0;
        }
    }

    &.active { display: block; }

    html.high-contrast & {
        background-color: @black; //HC
    }

    #io-ox-notifications-display {

        padding: 24px 14px;
        list-style-type: none; //no dots here

        // special screenreader class as divs gets read everytime and spans don't...so we use spans that behave like divs
        .span-to-div {
            display: block;
        }

        .section-title {

            font-family: @light-font-family;
            font-weight: 300;
            font-size: 16px;
            line-height: 24px;
            margin: 14px 0 7px 0;
            padding: 0 14px;
            border: 0;

            html.high-contrast & {
                color: @white;
            }

        }

        .clear-button {
            float: right;
            line-height: inherit;
            padding: 0;
            color: #767676;
            font-size: 14px;
        }

        .notifications:first-child {
            margin-top: 0;
        }

        .item {

            color: #767676;
            padding: 10px 14px;
            cursor: pointer;

            &:last-child {
                border-bottom: 0;
            }

            &:focus {
                outline: 1px solid rgba(0, 0, 0, 0.30);
                background-color: rgba(0, 0, 0, 0.05);
            }

            &:hover {
                background-color: rgba(0, 0, 0, 0.05);
            }

            .title {
                color: #333;
                pointer-events: none;
                font-weight: bold;
                .ellipsis();

                html.high-contrast & {
                    color: @white;
                }
            }

            .subject {
                .ellipsis();
                pointer-events: none;
            }

            .empty {
                font-style: italic;
                color: #aaa;
            }

            .content {
                color: #aaa;
                line-height: 16px;
                max-height: 5 * 16px; /* 5 rows */
                margin-top: 3px;
                .ellipsis();
            }

            .time {
                float: right;
            }

            .location {
                color: #aaa;
            }

            .actions {
                text-align: right;
                margin: 5px 0 5px 0;
            }
        }

        .open-app {
            padding: 7px 14px;
        }
    }
}

#io-ox-notifications-overlay {
    display: none;
    background-color: transparent;
    background-color: rgba(255, 255, 255, 0.01);
    top: 40px;
    right: 350px;
    z-index: 20;

    &.active {
        display: block;
    }
}

#io-ox-notifications-popups {
    position: absolute;
    top: 48px;
    width: 400px;
    right: 10px;
    z-index: 65201; /* above modal dialog; above relogin screen */

    .alert {
        margin-bottom: 0.5em;
        .box-shadow(1px 1px 3px -1px rgba(0, 0, 0, 0.80));
    }
}

@media (max-width: 480px), (max-device-width: 480px) and (orientation: portrait) {
    .notifications-open { display:none; } // To hide mobile portal when notifications area is open on mobile devices
    #io-ox-notifications-overlay { right: 0; }
}

// small screens (mobile)
// note that we have to target max-width and max-device-width
// to target all devices which don't support the max-device-width
// property
@media(max-width: 480px) and (orientation: portrait), (max-height: 480px) and (orientation: landscape) {
    #io-ox-notifications-popups {
        top: -80px;
        left: 10px;
        right: 10px;
        width: auto;
        margin: 0;
    }
}
