/**
 * This work is provided under the terms of the CREATIVE COMMONS PUBLIC
 * LICENSE. This work is protected by copyright and/or other applicable
 * law. Any use of the work other than as authorized under this license
 * or copyright law is prohibited.
 *
 * http://creativecommons.org/licenses/by-nc-sa/2.5/
 *
 * Â© 2016 OX Software GmbH, Germany. info@open-xchange.com
 *
 * @author Frank Paczynski <frank.paczynski@open-xchange.com>
 */


.io-ox-find {
    @placeholder-padding: @default-padding - 8 - 1;
    @action-color: #767676;

    .search-box {

        // remove IE's clear button
        ::-ms-clear {
            display: none;
            width : 0;
            height: 0;
        }

        & > .form-group {
            position: relative;
        }
        .action {
            pointer-events: auto;
            color: @action-color;
            display: none;
            justify-content: center;
            height: 32px;
            &:hover {
                text-decoration: none;
                color: @link-color;
            }
            &:focus {
                outline: 0;
                background: @selected-background;
                color: @selected-color;
                text-decoration: none;
            }
        }
        .action-options { margin-right: 30px; }

        .token {
            .token-type,
            .token-detail,
            .fa-caret-down { color: rgba(0, 0, 0, 0.7); }

            .close {
                opacity: 0.5;
                &:hover { opacity: 0.7 };
            }

            .token-name {
                color: rgb(85, 85, 85);
                font-weight: 500;
            }

            .dropdown {
                [data-toggle="dropdown"] { outline: 0; }

                .fa-caret-down {
                    margin-left: 4px;
                    margin-right: 8px;
                }
                // left is set by js
                .dropdown-menu {
                    position: fixed;
                }
            }
        }

        .tokenfield {
            padding-left: @default-padding - 5;
            .twitter-typeahead .tt-dropdown-menu {
                padding: 0;
                width: auto;
                min-width: initial;
                .tt-suggestions {
                    padding: 0;
                    .tt-suggestion {
                        padding: 4px 8px;
                        .autocomplete-item {
                            padding: 0;
                        }
                    }
                }
            }
        }

        // .action.io-ox-busy {
        //     position: absolute;
        //     line-height: 22px;

        //     &:before { font-size: 16px; }
        // }

    }
}

.io-ox-find.active {
    .action { display: flex; }
}

// not applied
.window-container {

    /**
     *  GENERAL
     */
    .io-ox-find {

        .search-box {
            .action.io-ox-busy {
                position: absolute;
                line-height: 22px;

                &:before { font-size: 16px; }
            }
        }

        .search-box-filter {
            float: left;
            padding-left: 8px;

        }
    }

    /**
     *  MODE: NOT ACTIVE
     */
    .io-ox-find {

        .search-box .action {
            &.action-find   { display: inline-block; }
            &.action-cancel { display: none; }
        }
        .search-box-filter { display: none; }
        .flex(0 1 auto);
    }

    /**
     *  MODE: ACTIVE
     */
    &.io-ox-find-active {

        .breadcrumb-ellipsis {
            display: none;
        }

        .io-ox-find {
            //top: managed by backbone view
            position: absolute;
            width: 100vw;
            height: 40px;

            .search-box {
                float: left;
                width: 100%;
                max-width: 550px;

                // switch visibility
                .action {
                    &.action-show   { display: none; }
                    &.action-cancel { display: inline-block; }
                }
            }

            .search-box-filter {
                display: block;
            }
        }
    }
}
