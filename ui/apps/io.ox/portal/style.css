/**
 * All content on this website (including text, images, source
 * code and any other original works), unless otherwise noted,
 * is licensed under a Creative Commons License.
 *
 * http://creativecommons.org/licenses/by-nc-sa/2.5/
 *
 * Copyright (C) Open-Xchange Inc., 2006-2012
 * Mail: info@open-xchange.com
 *
 * @author Tobias Prinz <tobias.prinz@open-xchange.com>
 * @author Francisco Laguna <francisco.laguna@open-xchange.com>
 * @author Matthias Biggeleben <matthias.biggeleben@open-xchange.com>
 */

.io-ox-portal {

    @padding: 2px;
    @large-padding: 13px;
    @portal-background-alt: #333;
    @portal-background: #555;

    padding: @large-padding;
    position: relative;
    height: 100%;
    .overflow(auto);

    border-top: 1px solid #000;
    background-color: white;

    &, * {
        .box-sizing(border-box);
    }

    .vgrid-cell:last-child {
        border-bottom: 0px none;
    }

    .header {
        margin: 0 13px 6px 13px;
    }

    h1.greeting {
        font-family: @font-light;
        font-weight: 300;
        font-size: 24px;
        color: #333;
        margin: 0;
    }

    .greeting-phrase {
        margin: 0 1em 0 0;
    }

    .signin {
        font-size: 13px;
        color: #555;
    }

    .widgets {
        clear: both;
        min-height: 200px;
    }

    @widget-spacing: 1px;
    @widget-padding: 13px;

    .widget {
        position: relative;
        display: inline-block;
        width: 300px;
        height: 300px;
        border-width: 0 @widget-spacing @widget-spacing 0;
        border-style: solid;
        border-color: transparent;
        float: left;
        background-clip: padding-box;
    }

    .widget { background-color: #f5f5f5; }

    .widget-color-default { h2, .colored { color: #333; } }
    .widget-color-red { h2, .colored { color: @color_red; } }
    .widget-color-orange { h2, .colored { color: @color_orange; } }
    .widget-color-green { h2, .colored { color: @color_green; } }
    .widget-color-blue { h2, .colored { color: @color_blue; } }
    .widget-color-purple { h2, .colored { color: @color_purple; } }
    .widget-color-pink { h2, .colored { color: @color_pink; } }
    .widget-color-gray { h2, .colored { color: @color_gray; } }

    h2 {
        font-size: 20px;
        margin: @widget-padding;
        font-weight: bold;
        line-height: 26px;
    }

    .normal { }
    .bold { font-weight: bold; }
    .italic { font-style: italic; }
    .gray { color: rgba(0, 0, 0, 0.5); }

    .content {
        position: absolute;
        right: @widget-padding;
        bottom: @widget-padding;
        left: @widget-padding;
        top: 60px;
        overflow: hidden;
    }

    .item {
        line-height: 18px;
        margin-bottom: 10px;
    }
}

.io-ox-portal-settings {
    float: right;
    display: block;
    padding-right: 5px;
    padding-bottom: 0.5em;
}
.io-ox-tile-container {
    position: absolute;
}
.io-ox-portal-settings a {
    color: #0AF;
    font-size: 13px;
}
.io-ox-portal-tiles {
    clear: both;
    text-align: left;
    vertical-align: top;
    position: relative;
    background: #999;
}

@tHeight: 300px;
@tWidth: 260px;
@tSpace: 12px;
@tLine: @tSpace * 3;

.io-ox-portal-widget-tile {
    display: inline-block;
    width: @tWidth;
    height: @tHeight;
    margin: 0 1px 1px 0;
    overflow: hidden;
    float: left;
    .box-sizing(border-box);
}
.io-ox-portal-widget-phototile {
    padding: 0 !important;
}

/* LATER:
@media all and (min-width: 0px ) {
    .io-ox-portal-widget-tile-border { width: 100%; }
}
@media all and (min-width: 300px) {
    .io-ox-portal-widget-tile-border { width: 50%; }
}
@media all and (min-width: 600px) {
    .io-ox-portal-widget-tile-border { width: 33.33%; }
}
@media all and (min-width: 900px) {
    .io-ox-portal-widget-tile-border { width: 25%; }
}
@media all and (min-width: 1200px) {
    .io-ox-portal-widget-tile-border { width: 20%; }
}
*/

.io-ox-portal-typeA .io-ox-portal-item {
    display: inline-block;
    text-decoration: none;
    max-height: 4.5em;
    line-height: 1.5em;
    font-size: 1em;
    border-top: 1px solid rgba(255,255,255,0.3);
    width: 100%;
    color: #eee;
    padding: 0 6px 0 @tSpace;
    overflow: hidden;
}
.io-ox-portal-typeA .io-ox-portal-content :first-child.io-ox-portal-item {
    border: none;
}
.io-ox-portal-typeA :hover.io-ox-portal-item {
    background: rgba(255, 255, 255, 0.75);
    font-weight: 200;
}
.io-ox-portal-typeA .io-ox-portal-content {
    height: @tHeight - @tLine - @tLine; /* height - title - action */
    overflow: hidden;
    line-height: 1.5em;
    text-overflow: ellipsis;
    clear: both;
    color: white;
}
.io-ox-portal-typeA .io-ox-portal-title {
    width: @tWidth;
    height: @tLine;
    background: rgba(0, 0, 0, 0.3);
    color: white;
    text-align: center;
    padding-top: 6px;
    font-family: @font-light;
}
.io-ox-portal-typeA .io-ox-portal-actions {
    height: @tLine;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    padding-top: @tSpace/2;
}
.io-ox-portal-actions .action-text {
    display: inline-block;
    height: 100%;
    cursor: pointer;
    padding-left: .5em;
    font-weight: 100;
    font-size: 13pt;
}

.io-ox-portal-typeB .io-ox-portal-title {
    width: @tWidth;
    height: @tLine;
    padding-top: 6px;
    visibility: hidden;
}
.io-ox-portal-typeB .io-ox-portal-image {
    height: @tHeight - @tLine; /* height - title */
    background: no-repeat center;
    background-size: cover;
}
.io-ox-portal-typeB .io-ox-portal-actions {
    margin-top: @tHeight - @tLine - @tLine; /* box_height - header_height - footer_height*/
    height: @tLine;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    padding-top: @tSpace/2;
    opacity: 0.75;
}
.io-ox-portal-typeB .io-ox-portal-actions .action-text, .io-ox-portal-typeB .io-ox-portal-title  {
    font-weight: 200;
}

.io-ox-portal-action {
    display: block;
    float: right;
    margin-right: 6px;
}
.io-ox-portal-title h1 {
    font-size: 16pt;
    line-height: 0;
}
.io-ox-portal-title .tile-image {
    float: right;
    margin-right: 6px;
}

/* Remove this to make Matthias happy */
/*
.io-ox-typeA-action, .io-ox-typeB-title {
    border-bottom-left-radius: @tSpace;
    border-bottom-right-radius: @tSpace;
}
.io-ox-typeA-title {
    border-top-left-radius: @tSpace;
    border-top-right-radius: @tSpace;
}
.io-ox-portal-widget-tile {
    border-radius: @tSpace;
}
*/

.invisible {
    visibility: hidden;
}
.tile-color0, .tile-color6 {
    background: #234;
}
.tile-color1, .tile-color7 {
    background: #243;
}
.tile-color2, .tile-color8 {
    background: #324;
}
.tile-color3, .tile-color9 {
    background: #342;
}
.tile-color4, .tile-color10 {
    background: #423;
}
.tile-color5, .tile-color11 {
    background: #432;
}
